{"version":3,"file":"index.modern.js","sources":["../src/index.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react'\n\nexport default function useDelayedState(initialState) {\n  const [state, setState] = useState(initialState)\n  const timeoutRef = useRef()\n\n  const setStateAfter = (newState, delay) => {\n    if (delay === 0 || delay === undefined) {\n      setState(newState)\n    } else {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current)\n      }\n      timeoutRef.current = setTimeout(() => {\n        setState(newState)\n        timeoutRef.current = null\n      }, delay)\n    }\n  }\n\n  const cancelSetState = () => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current)\n      timeoutRef.current = null\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      if (timeoutRef.current) clearTimeout(timeoutRef.current)\n    }\n  }, [])\n\n  return [state, setStateAfter, cancelSetState]\n}\n"],"names":["useDelayedState","initialState","useState","state","setState","timeoutRef","useRef","setStateAfter","newState","delay","undefined","current","clearTimeout","setTimeout","cancelSetState","useEffect"],"mappings":";;AAEe,SAASA,eAAT,CAAyBC,YAAzB,EAAuC;AAAA,kBAC1BC,QAAQ,CAACD,YAAD,CADkB;AAAA,MAC7CE,KAD6C;AAAA,MACtCC,QADsC;;AAEpD,MAAMC,UAAU,GAAGC,MAAM,EAAzB;;AAEA,MAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,QAAD,EAAWC,KAAX,EAAqB;AACzC,QAAIA,KAAK,KAAK,CAAV,IAAeA,KAAK,KAAKC,SAA7B,EAAwC;AACtCN,MAAAA,QAAQ,CAACI,QAAD,CAAR;AACD,KAFD,MAEO;AACL,UAAIH,UAAU,CAACM,OAAf,EAAwB;AACtBC,QAAAA,YAAY,CAACP,UAAU,CAACM,OAAZ,CAAZ;AACD;;AACDN,MAAAA,UAAU,CAACM,OAAX,GAAqBE,UAAU,CAAC,YAAM;AACpCT,QAAAA,QAAQ,CAACI,QAAD,CAAR;AACAH,QAAAA,UAAU,CAACM,OAAX,GAAqB,IAArB;AACD,OAH8B,EAG5BF,KAH4B,CAA/B;AAID;AACF,GAZD;;AAcA,MAAMK,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAC3B,QAAIT,UAAU,CAACM,OAAf,EAAwB;AACtBC,MAAAA,YAAY,CAACP,UAAU,CAACM,OAAZ,CAAZ;AACAN,MAAAA,UAAU,CAACM,OAAX,GAAqB,IAArB;AACD;AACF,GALD;;AAOAI,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACX,UAAIV,UAAU,CAACM,OAAf,EAAwBC,YAAY,CAACP,UAAU,CAACM,OAAZ,CAAZ;AACzB,KAFD;AAGD,GAJQ,EAIN,EAJM,CAAT;AAMA,SAAO,CAACR,KAAD,EAAQI,aAAR,EAAuBO,cAAvB,CAAP;AACD;;;;"}