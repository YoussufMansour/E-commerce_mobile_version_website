{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react'\nimport useDelayedFunction from 'use-delayed-function'\n\nexport default function AutoScrollContainer({\n  children,\n  className = '',\n  contentClass = '',\n  marginTop = 0.5,\n  marginBottom = 0.5,\n  marginLeft = 0,\n  marginRight = 0,\n  scrollPos,\n  setScrollPos,\n  focus,\n  setFocus,\n  smoothScroll,\n  viewMargin = { top: 0.05, bottom: 0.05, left: 0.05, right: 0.05 },\n  autoScrollOnFocus = true,\n  debouncingDelay = 200,\n  keyboardPopDelay = 1500,\n  signature = 'data-auto-scroll-container-signature'\n}) {\n  const scrollDiv = useRef()\n  const contentDiv = useRef()\n  const rightMarginDiv = useRef()\n  const currentFocus = useRef(null)\n  const childObserver = useRef(null)\n  const mobileKeyboard = useRef(false)\n  const justFocused = useRef(false)\n  const prevViewMargin = useRef()\n\n  const [debounceResize] = useDelayedFunction(calcDivSize, debouncingDelay)\n  const [setJustFocusedLater] = useDelayedFunction(\n    setJustFocused,\n    keyboardPopDelay\n  )\n  const scroll = useRef({\n    initializing: true,\n    isAutoScrolling: false,\n    immediateChild: null,\n    divSize: undefined,\n    margins: undefined,\n    content: undefined,\n    pos: {\n      x: scrollPos?.scrollX || 0,\n      offsetX: scrollPos\n        ? scrollPos.viewX === undefined\n          ? 0.1\n          : scrollPos.viewX\n        : 0.1,\n      y: scrollPos?.scrollY || 0,\n      offsetY: scrollPos\n        ? scrollPos.viewY === undefined\n          ? 0.1\n          : scrollPos.viewY\n        : 0.1\n    }\n  }).current\n\n  function setMobileKeyboard(status) {\n    mobileKeyboard.current = status\n  }\n\n  function setJustFocused(status) {\n    justFocused.current = status\n  }\n\n  const handleScroll = (e) => {\n    if (scroll.isAutoScrolling) {\n      scroll.isAutoScrolling = false\n      return\n    }\n    if (mobileKeyboard.current) {\n      scrollToNewPos({ ...scroll.pos, ...compensatedOffsets() })\n      return\n    }\n    scroll.pos = currentPos()\n    setPosState()\n  }\n\n  const handleFocus = (e) => {\n    removeChildObserver()\n    currentFocus.current = e.target\n    if (setFocus) {\n      setFocus(() => ({ element: currentFocus.current }))\n    }\n    scroll.immediateChild = null\n    scroll.pos = currentPos()\n    addChildObserver()\n    if (autoScrollOnFocus) {\n      setJustFocused(true)\n      scrollToNewPos({ ...scroll.pos, ...compensatedOffsets() })\n      setJustFocusedLater(false)\n    }\n    setPosState()\n  }\n\n  const handleBlure = (e) => {\n    removeChildObserver()\n    currentFocus.current = null\n    if (setFocus) {\n      setFocus(() => null)\n    }\n    scroll.pos = currentPos()\n    setPosState()\n  }\n\n  function addChildObserver() {\n    if (scroll.immediateChild === null) return\n    scroll.immediateChild.setAttribute(signature, '0')\n    childObserver.current.observe(scroll.immediateChild, {\n      attributes: true,\n      attributesFilter: [signature]\n    })\n  }\n\n  function removeChildObserver() {\n    if (scroll.immediateChild === null) return\n    childObserver.current.disconnect()\n  }\n\n  function resizeParent() {\n    const value = Number(scrollDiv.current.getAttribute(signature))\n    scrollDiv.current.setAttribute(signature, (value + 1).toString())\n  }\n\n  function resizeByChild() {\n    if (scroll.initializing) return\n    calcDivSize()\n    setMobileKeyboard(false)\n    adjustScroll()\n    resizeParent()\n  }\n\n  function handleResize() {\n    if (scroll.initializing) return\n    if (justFocused.current) {\n      setMobileKeyboard(true)\n    }\n    if (scroll.immediateChild) return\n    debounceResize().then(() => {\n      setMobileKeyboard(false)\n      adjustScroll()\n      resizeParent()\n    })\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', handleResize)\n    return () => {\n      window.removeEventListener('resize', handleResize)\n    }\n  })\n\n  useEffect(() => {\n    if (scroll.initializing || !scrollPos) return\n    if (scrollPos.autoScroll) {\n      scrollPos.autoScroll = false\n      return\n    }\n    const { scrollX = 0, viewX = 0.1, scrollY = 0, viewY = 0.1 } = scrollPos\n    scroll.pos = {\n      x: scrollX,\n      offsetX: viewX,\n      y: scrollY,\n      offsetY: viewY\n    }\n    scrollToNewPos({ ...scroll.pos })\n  }, [scrollPos])\n\n  useEffect(() => {\n    if (scroll.initializing) return\n    adjustScroll()\n  }, [marginTop, marginBottom, marginLeft, marginRight])\n\n  useEffect(() => {\n    if (scroll.initializing) return\n    if (prevViewMargin.current) {\n      const { top, bottom, left, right } = prevViewMargin.current\n      if (\n        viewMargin.top != top ||\n        viewMargin.bottom != bottom ||\n        viewMargin.left != left ||\n        viewMargin.right != right\n      ) {\n        adjustScroll()\n      }\n    }\n    return () => {\n      prevViewMargin.current = viewMargin\n    }\n  }, [viewMargin])\n\n  useEffect(() => {\n    scrollDiv.current.setAttribute(signature, '0')\n    childObserver.current = new MutationObserver(resizeByChild)\n    return () => {\n      childObserver.current.disconnect()\n    }\n  }, [])\n\n  useEffect(() => {\n    if (!smoothScroll) return\n    const requestAnimationFrame =\n      window.requestAnimationFrame ||\n      window.mozRequestAnimationFrame ||\n      window.webkitRequestAnimationFrame ||\n      window.msRequestAnimationFrame\n    const cancelAnimationFrame =\n      window.cancelAnimationFrame || window.mozCancelAnimationFrame\n    const {\n      smoothFunction = (x) => 1 - Math.pow(1 - x, 3), // (x) => x * x * x\n      duration = 800,\n      scrollX: fx = 0,\n      scrollY: fy = 0,\n      viewX: fvx = 0.1,\n      viewY: fvy = 0.1\n    } = smoothScroll\n    const { x: sx, y: sy, offsetX: svx, offsetY: svy } = scroll.pos\n    let startTime\n    let lastAnimationID\n    function smoothPos(timestamp) {\n      if (startTime === undefined) {\n        startTime = timestamp\n      }\n      const passedT = timestamp - startTime\n      const r = smoothFunction(passedT / duration)\n      scroll.pos = {\n        x: sx + (fx - sx) * r,\n        y: sy + (fy - sy) * r,\n        offsetX: svx + (fvx - svx) * r,\n        offsetY: svy + (fvy - svy) * r\n      }\n      scrollToNewPos({ ...scroll.pos })\n      scroll.pos = currentPos()\n      setPosState()\n      if (passedT < duration) {\n        lastAnimationID = requestAnimationFrame(smoothPos)\n      }\n    }\n    lastAnimationID = requestAnimationFrame(smoothPos)\n    return () => {\n      cancelAnimationFrame(lastAnimationID)\n    }\n  }, [smoothScroll])\n\n  useEffect(() => {\n    scrollDiv.current.style.visibility = 'hidden'\n\n    setPositionRelative()\n    calcDivSize()\n    adjustScroll()\n\n    scroll.initializing = false\n    scrollDiv.current.style.visibility = 'visible'\n  }, [])\n\n  useEffect(() => {\n    if (!focus || !focus.element || currentFocus.current === focus.element)\n      return\n    focus.element.focus()\n  }, [focus])\n\n  function relativeOffset(element) {\n    if (!element) {\n      return [0, 0]\n    }\n    const elementParent = element.offsetParent\n    const x = element.offsetLeft\n    const y = element.offsetTop\n    if (\n      elementParent === rightMarginDiv.current.offsetParent ||\n      !elementParent\n    ) {\n      return [x, y]\n    } else {\n      if (elementParent.hasAttribute(signature)) {\n        scroll.immediateChild = elementParent\n      }\n      const [xParent, yParent] = relativeOffset(elementParent)\n      return [\n        x + xParent - elementParent.scrollLeft,\n        y + yParent - elementParent.scrollTop\n      ]\n    }\n  }\n\n  function compensatedOffsets() {\n    const { divSize, pos } = scroll\n    let offsetY = pos.offsetY\n    let offsetX = pos.offsetX\n    if (currentFocus.current) {\n      const { height, width } = currentFocus.current.getBoundingClientRect()\n      const { top = 0, bottom = 0, left = 0, right = 0 } = viewMargin\n      let hRatio = height / divSize.height\n      let wRatio = width / divSize.width\n      if (top + hRatio + bottom > 1) {\n        if (offsetY + hRatio / 2 > 0.5) {\n          offsetY = top\n        } else {\n          offsetY = 1 - hRatio - bottom\n        }\n      } else {\n        if (offsetY < top) {\n          offsetY = top\n        }\n        if (offsetY + hRatio > 1 - bottom) {\n          offsetY = 1 - bottom - hRatio\n        }\n      }\n      if (left + wRatio + right > 1) {\n        if (offsetX + wRatio / 2 > 0.5) {\n          offsetX = left\n        } else {\n          offsetX = 1 - wRatio - right\n        }\n      } else {\n        if (offsetX < left) {\n          offsetX = left\n        }\n        if (offsetX + wRatio > 1 - right) {\n          offsetX = 1 - right - wRatio\n        }\n      }\n    }\n    return { offsetY, offsetX }\n  }\n\n  function adjustScroll() {\n    calcMargins()\n    setMargins()\n    calcContent()\n    scrollToNewPos({ ...scroll.pos, ...compensatedOffsets() })\n    scroll.pos = currentPos()\n    setPosState()\n  }\n\n  function currentPos() {\n    const { divSize, content, margins } = scroll\n    const { viewX = 0.1, viewY = 0.1 } = scrollPos || { viewX: 0.1, viewY: 0.1 }\n    const top = scrollDiv.current.scrollTop\n    const left = scrollDiv.current.scrollLeft\n    const [x, y] = currentFocus.current\n      ? relativeOffset(currentFocus.current)\n      : [left + viewX * divSize.width, top + viewY * divSize.height]\n    return {\n      x: (x - margins.left) / content.width,\n      y: (y - margins.top) / content.height,\n      offsetX: (x - left) / divSize.width,\n      offsetY: (y - top) / divSize.height\n    }\n  }\n\n  function setPosState() {\n    if (!setScrollPos) return\n    const {\n      pos: { x, y, offsetX, offsetY }\n    } = scroll\n    setScrollPos(() => ({\n      scrollX: x,\n      viewX: offsetX,\n      scrollY: y,\n      viewY: offsetY,\n      autoScroll: true\n    }))\n  }\n\n  function scrollToNewPos({ x, y, offsetX, offsetY }) {\n    const { content, divSize, margins } = scroll\n    scroll.isAutoScrolling = true\n    scrollDiv.current.scrollTop =\n      y * content.height - offsetY * divSize.height + margins.top\n    scrollDiv.current.scrollLeft =\n      x * content.width - offsetX * divSize.width + margins.left\n  }\n\n  function setPositionRelative() {\n    if (getComputedStyle(scrollDiv.current).position === 'static') {\n      scrollDiv.current.style.position = 'relative'\n    }\n  }\n\n  function calcDivSize() {\n    const rect = scrollDiv.current.getBoundingClientRect()\n    scroll.divSize = {\n      width: rect.width,\n      // mobile browsers viewport hack\n      height: Math.min(rect.height, document.documentElement.clientHeight)\n    }\n  }\n\n  function calcMargins() {\n    const {\n      divSize: { width, height }\n    } = scroll\n    scroll.margins = {\n      top: marginTop * height,\n      bottom: marginBottom * height,\n      left: marginLeft * width,\n      right: marginRight * width\n    }\n  }\n\n  function setMargins() {\n    const {\n      margins: { top, bottom, left, right }\n    } = scroll\n    const contentStyle = contentDiv.current.style\n    if (marginTop) {\n      contentStyle.marginTop = `${top}px`\n    }\n    if (marginBottom) {\n      contentStyle.marginBottom = `${bottom}px`\n    }\n    if (marginLeft) {\n      rightMarginDiv.current.style.left = `${left}px`\n      contentStyle.marginLeft = `${left}px`\n    }\n    if (marginRight) {\n      rightMarginDiv.current.style.left = `${\n        scrollDiv.current.scrollWidth + right\n      }px`\n    }\n  }\n\n  function calcContent() {\n    const {\n      margins: { top, bottom, left, right }\n    } = scroll\n    scroll.content = {\n      width: scrollDiv.current.scrollWidth - left - right,\n      height: scrollDiv.current.scrollHeight - top - bottom\n    }\n  }\n\n  return (\n    <div\n      ref={scrollDiv}\n      className={className}\n      onScroll={handleScroll}\n      onFocus={handleFocus}\n      onBlurCapture={handleBlure}\n    >\n      <div\n        ref={rightMarginDiv}\n        style={{\n          position: 'absolute',\n          width: '1px',\n          height: '1px',\n          top: '0px',\n          visibility: 'hidden'\n        }}\n      ></div>\n\n      <div ref={contentDiv} className={contentClass}>\n        {children}\n      </div>\n    </div>\n  )\n}\n"],"names":["AutoScrollContainer","children","className","contentClass","marginTop","marginBottom","marginLeft","marginRight","scrollPos","setScrollPos","focus","setFocus","smoothScroll","viewMargin","top","bottom","left","right","autoScrollOnFocus","debouncingDelay","keyboardPopDelay","signature","scrollDiv","useRef","contentDiv","rightMarginDiv","currentFocus","childObserver","mobileKeyboard","justFocused","prevViewMargin","useDelayedFunction","calcDivSize","debounceResize","setJustFocused","setJustFocusedLater","scroll","initializing","isAutoScrolling","immediateChild","divSize","undefined","margins","content","pos","x","scrollX","offsetX","viewX","y","scrollY","offsetY","viewY","current","setMobileKeyboard","status","handleScroll","e","scrollToNewPos","compensatedOffsets","currentPos","setPosState","handleFocus","removeChildObserver","target","element","addChildObserver","handleBlure","setAttribute","observe","attributes","attributesFilter","disconnect","resizeParent","value","Number","getAttribute","toString","resizeByChild","adjustScroll","handleResize","then","useEffect","window","addEventListener","removeEventListener","autoScroll","MutationObserver","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","cancelAnimationFrame","mozCancelAnimationFrame","smoothFunction","Math","pow","duration","fx","fy","fvx","fvy","sx","sy","svx","svy","startTime","lastAnimationID","smoothPos","timestamp","passedT","r","style","visibility","setPositionRelative","relativeOffset","elementParent","offsetParent","offsetLeft","offsetTop","hasAttribute","xParent","yParent","scrollLeft","scrollTop","getBoundingClientRect","height","width","hRatio","wRatio","calcMargins","setMargins","calcContent","getComputedStyle","position","rect","min","document","documentElement","clientHeight","contentStyle","scrollWidth","scrollHeight","React"],"mappings":"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"}